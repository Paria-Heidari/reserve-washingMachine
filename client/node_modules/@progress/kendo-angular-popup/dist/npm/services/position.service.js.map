{"version":3,"file":"position.service.js","sources":["/Users/paria/workspace/washIt/client/node_modules/@progress/kendo-angular-popup/dist/npm/services/position.service.js"],"sourcesContent":["/**-----------------------------------------------------------------------------------------\n* Copyright Â© 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\nvar dom_service_1 = require(\"./dom.service\");\nvar util_1 = require(\"../util\");\nvar scale_1 = require(\"../scale\");\n/**\n * @hidden\n */\nvar PositionService = /** @class */ (function () {\n    function PositionService(_dom, scale) {\n        if (scale === void 0) { scale = 1; }\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    PositionService.prototype.positionElement = function (settings) {\n        var anchor = settings.anchor, currentLocation = settings.currentLocation, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, collisions = settings.collisions, margin = settings.margin;\n        var dom = this._dom;\n        var scale = this.scale || 1;\n        var elementOffset = dom.offsetAtPoint(element, currentLocation);\n        var elementRect = util_1.scaleRect(elementOffset, scale);\n        var anchorOffset = util_1.scaleRect(dom.offset(anchor), scale);\n        var anchorRect = util_1.eitherRect(anchorOffset, currentLocation);\n        var viewPort = settings.viewPort || dom.windowViewPort(element);\n        viewPort.width = viewPort.width / scale;\n        viewPort.height = viewPort.height / scale;\n        var result = dom.restrictToView({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            collisions: collisions,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            margin: margin,\n            viewPort: viewPort\n        });\n        var offset = dom.addOffset(currentLocation, result.offset);\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: offset\n        };\n    };\n    PositionService = tslib_1.__decorate([\n        core_1.Injectable(),\n        tslib_1.__param(1, core_1.Inject(scale_1.SCALE)), tslib_1.__param(1, core_1.Optional()),\n        tslib_1.__metadata(\"design:paramtypes\", [dom_service_1.DOMService, Number])\n    ], PositionService);\n    return PositionService;\n}());\nexports.PositionService = PositionService;\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAiC0C,AACd;;;;;;;;;;;;oEAGJ;;;;"}