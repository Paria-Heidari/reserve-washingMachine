{"version":3,"file":"position.service.js","sources":["/Users/paria/workspace/washIt/client/node_modules/@progress/kendo-angular-popup/dist/es/services/position.service.js"],"sourcesContent":["/**-----------------------------------------------------------------------------------------\n* Copyright Â© 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as tslib_1 from \"tslib\";\nimport { Inject, Injectable, Optional } from '@angular/core';\nimport { DOMService } from './dom.service';\nimport { eitherRect, scaleRect } from '../util';\nimport { SCALE } from '../scale';\n/**\n * @hidden\n */\nvar PositionService = /** @class */ (function () {\n    function PositionService(_dom, scale) {\n        if (scale === void 0) { scale = 1; }\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    PositionService.prototype.positionElement = function (settings) {\n        var anchor = settings.anchor, currentLocation = settings.currentLocation, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, collisions = settings.collisions, margin = settings.margin;\n        var dom = this._dom;\n        var scale = this.scale || 1;\n        var elementOffset = dom.offsetAtPoint(element, currentLocation);\n        var elementRect = scaleRect(elementOffset, scale);\n        var anchorOffset = scaleRect(dom.offset(anchor), scale);\n        var anchorRect = eitherRect(anchorOffset, currentLocation);\n        var viewPort = settings.viewPort || dom.windowViewPort(element);\n        viewPort.width = viewPort.width / scale;\n        viewPort.height = viewPort.height / scale;\n        var result = dom.restrictToView({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            collisions: collisions,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            margin: margin,\n            viewPort: viewPort\n        });\n        var offset = dom.addOffset(currentLocation, result.offset);\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: offset\n        };\n    };\n    PositionService = tslib_1.__decorate([\n        Injectable(),\n        tslib_1.__param(1, Inject(SCALE)), tslib_1.__param(1, Optional()),\n        tslib_1.__metadata(\"design:paramtypes\", [DOMService, Number])\n    ], PositionService);\n    return PositionService;\n}());\nexport { PositionService };\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;AAYA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAiC0C,AACrB;;;;;;;;;;;;oEAGG;;;;"}